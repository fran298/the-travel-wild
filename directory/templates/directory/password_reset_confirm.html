{% extends "directory/base.html" %}
{% load static %}

{% block extra_head %}
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock %}

{% block content %}
<div class="login-container">
  <h1>Reset your password</h1>

  {% if validlink %}
    <p>Please enter your new password twice to confirm the change.</p>

    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="new_password1">New Password</label>
        <input id="new_password1" name="new_password1" type="password" required class="form-control" />
      </div>

      <div class="form-group">
        <label for="new_password2">Confirm New Password</label>
        <input id="new_password2" name="new_password2" type="password" required class="form-control" />
      </div>

      <button type="submit" class="btn-primary">Reset password</button>
    </form>
  {% else %}
    <p>The password reset link is invalid, expired, or has already been used.</p>
    <a href="{% url 'password_reset' %}" class="btn-primary" style="display:inline-block;margin-top:1rem;">Request a new link</a>
  {% endif %}

  <div class="login-footer">
    <a href="{% url 'login' %}">Back to login</a>
  </div>
</div>
{% endblock %}
